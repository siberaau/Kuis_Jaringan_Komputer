
<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Kuis Jaringan - Versi Lengkap</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f4f4f4; padding: 20px; }
    .quiz-container { background: white; padding: 20px; border-radius: 10px; max-width: 700px; margin: auto; }
    .question { margin-bottom: 20px; }
    .options label { display: block; margin: 5px 0; }
    .timer { font-size: 18px; font-weight: bold; color: red; margin-bottom: 20px; }
  </style>
</head>
<body>
<div class="quiz-container">
  <h2>Kuis Jaringan - Taruna</h2>

  <div>
    <label>Nama Taruna:</label><input type="text" id="nama"><br>
    <label>Kelas:</label><input type="text" id="kelas"><br>
    <label>Nomor AK:</label><input type="text" id="noak"><br>
  </div>

  <div class="timer" id="timer">Sisa waktu: 15:00</div>
  <form id="quizForm">
    <div id="quiz"></div>
    <button type="submit">Selesai & Unduh PDF</button>
  </form>
</div>

<script>
const questions = [
  { q: "Apa fungsi nslookup?", o: ["Cek port", "DNS Lookup", "Update OS", "Scan jaringan"], a: 1 },
  { q: "Perintah ping digunakan untuk?", o: ["Transfer file", "Cek koneksi", "Reset modem", "Shutdown"], a: 1 },
  { q: "Perintah untuk melihat rute jaringan?", o: ["whois", "ftp", "traceroute", "cd"], a: 2 }
];
let answers = [];
let timeLeft = 900; // 15 menit

function renderQuiz() {
  const quiz = document.getElementById("quiz");
  questions.forEach((q, i) => {
    const block = document.createElement("div");
    block.classList.add("question");
    block.innerHTML = `<strong>${i + 1}. ${q.q}</strong><div class="options">` +
      q.o.map((opt, j) =>
        `<label><input type="radio" name="q${i}" value="${j}"> ${opt}</label>`).join("") +
      `</div>`;
    quiz.appendChild(block);
  });
}

function updateTimer() {
  const t = document.getElementById("timer");
  const m = Math.floor(timeLeft / 60);
  const s = timeLeft % 60;
  t.textContent = `Sisa waktu: ${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
  if (timeLeft <= 0) document.getElementById("quizForm").requestSubmit();
  else timeLeft--, setTimeout(updateTimer, 1000);
}

document.getElementById("quizForm").addEventListener("submit", function(e) {
  e.preventDefault();
  const nama = document.getElementById("nama").value.trim();
  const kelas = document.getElementById("kelas").value.trim();
  const noak = document.getElementById("noak").value.trim();
  if (!nama || !kelas || !noak) return alert("Lengkapi identitas dulu");

  let skor = 0;
  answers = questions.map((q, i) => {
    const val = document.querySelector(`input[name="q${i}"]:checked`);
    const ans = val ? parseInt(val.value) : -1;
    if (ans === q.a) skor++;
    return ans;
  });

  const now = new Date().toLocaleString();
  const jawabanStr = answers.map((a, i) => `Soal ${i + 1}: ${a === -1 ? "Kosong" : questions[i].o[a]}`).join("\n");

  const hasil = `Nama: ${nama}\nKelas: ${kelas}\nNo AK: ${noak}\nWaktu: ${now}\nSkor: ${skor}/${questions.length}\n\nJawaban:\n${jawabanStr}`;
  const blob = new Blob([hasil], {{ type: "text/plain" }});
  const link = document.createElement("a");
  link.href = URL.createObjectURL(blob);
  link.download = `hasil_kuis_${nama.replace(/\s+/g, "_")}.txt`;
  document.body.appendChild(link);
  link.click();
  document.body.removeChild(link);
});

renderQuiz();
updateTimer();
</script>
</body>
</html>
